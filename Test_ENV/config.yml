# Autogenerated config file for Metarank, source=D:\UnitedWeCare\Docker\Metarank_UWC\Meta_env\events.jsonl
#
# This config file may need to be edited manually:
# - persistence config is not defined. Metarank will run in an in-memory mode by default.
# - generated feature definitions for categories may include too many/few items.
# - model training hyperparameters may not be perfect for your dataset, so you may need to tune them.
#

features:
- type: string
  name: category_id
  field: item.category_id
  scope: item
  encode: onehot
  values:
  - Chronic Condition
  - Diet & Nutrition
  - Emotional Wellness
  - Female
  - Fitness
  - Wellness
  - Yoga & Meditation
- type: interacted_with
  name: click
  interaction: click
  field:
  - item.title_suggest
  - item.category_id
  - item.club_id
  - item.title
  - item.description
  - item.post_type
  scope: user
- type: string
  name: club_id
  field: item.club_id
  scope: item
  encode: index
  values:
  - Aasanas
  - Anxiety
  - Counseling
  - Depression
  - Energy Healing
  - Grief, Loss and PTSD
  - Meditation/Dhyana
  - Mindful Eating
  - Mindfulness
  - Parenting
  - Personality & Behavioural Issues
  - Relationship Issues
  - Sleep Disorder
  - Stress
- type: string
  name: description
  field: item.description
  scope: item
  encode: onehot
  values:
  - 'Clinical Hypnotherapist & Life Coach '
  - 'Clinical Hypnotherapist Life Coach '
- type: number
  name: like_count
  field: item.like_count
  scope: item
- type: string
  name: post_type
  field: item.post_type
  scope: item
  encode: onehot
  values:
  - article
  - audio
  - post
  - video
- type: number
  name: relevancy
  field: item.relevancy
  scope: item
- type: number
  name: view_count
  field: item.view_count
  scope: item
models:
  default:
    type: lambdamart
    backend:
      type: xgboost
      iterations: 50
      learningRate: 0.1
      ndcgCutoff: 10
      maxDepth: 8
      seed: 0
      sampling: 0.8
    features:
    - category_id
    - click
    - club_id
    - description
    - like_count
    - post_type
    - relevancy
    - view_count
    weights:
      click: 1.0
    selector:
      accept: true
    split: time=80%
  similar:
    type: als
    interactions:
    - click
    iterations: 100
    factors: 100
    userReg: 0.01
    itemReg: 0.01
    store:
      type: hnsw
      m: 32
      ef: 200
    selector:
      accept: true
  trending:
    type: trending
    weights:
    - interaction: click
      weight: 1.0
      decay: 1.0
      window: 30d
    selector:
      accept: true
